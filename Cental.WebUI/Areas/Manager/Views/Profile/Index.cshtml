@model ProfileEditDto
@{
    ViewData["Title"] = "Manager Profile Details";
    Layout = "~/Areas/Manager/Views/ManagerLayout/Index.cshtml";
}
<script>
    document.addEventListener("DOMContentLoaded", function() {
        var imageFileInput = document.getElementById("ImageFile");
        var imagePreview = document.getElementById("imagePreview");

        if (imageFileInput) {
            imageFileInput.addEventListener("change", function(e) {
                if (e.target.files && e.target.files[0]) {
                    var reader = new FileReader();
                    reader.onload = function(event) {
                        imagePreview.src = event.target.result;
                        imagePreview.classList.remove("d-none");
                    };
                    reader.readAsDataURL(e.target.files[0]);
                }
            });
        }
    });
</script>

<div class="container my-4">
    <div class="row justify-content-center">
        <div class="col-md-8">

            <!-- Kart şeklinde tasarım: -->
            <div class="card shadow">
                <div class="card-header bg-light text-white">
                    <h5 class="mb-0">My Profile Details</h5>
                </div>
                <div class="card-body">

                    <form method="post" enctype="multipart/form-data">
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <label for="ImageFile" class="form-label">Upload Image</label>
                                <input type="file"
                                       id="ImageFile"
                                       asp-for="ImageFile"
                                       accept="image/png, image/jpg, image/jpeg"
                                       class="form-control" />
                                <input type="hidden" asp-for="ImageUrl" />


                                <img id="imagePreview"
                                     src=""
                                     alt="Image preview"
                                     class="img-fluid mt-2 d-none"
                                     style="max-height: 200px;" />
                            </div>


                            <div class="col-md-6 text-center">
                                <label class="form-label">Current Profile Image</label>
                                <div>
                                    <img src="@Model.ImageUrl"
                                         alt="Profil Resmi"
                                         class="img-thumbnail"
                                         style="width: 100px; height: 100px;" />
                                </div>
                            </div>
                        </div>


                        <div class="mb-3">
                            <label class="form-label" for="FirstName">Name</label>
                            <input type="text"
                                   asp-for="FirstName"
                                   class="form-control"
                                   required />
                        </div>


                        <div class="mb-3">
                            <label class="form-label" for="LastName">Surname</label>
                            <input type="text"
                                   asp-for="LastName"
                                   class="form-control"
                                   required />
                        </div>


                        <div class="mb-3">
                            <label class="form-label" for="Email">Email</label>
                            <input type="email"
                                   asp-for="Email"
                                   class="form-control"
                                   required />
                        </div>


                        <div class="mb-3">
                            <label class="form-label" for="PhoneNumber">Phone</label>
                            <input type="text"
                                   asp-for="PhoneNumber"
                                   class="form-control" />
                        </div>


                        <div class="mb-3">
                            <label class="form-label" for="CurrentPassword">
                                Please enter your password to update your information!
                            </label>
                            <input type="password"
                                   asp-for="CurrentPassword"
                                   class="form-control"
                                   required />
                        </div>


                        <div class="mb-3 text-danger">
                            @Html.ValidationSummary()
                        </div>


                        <div class="text-center">
                            <button type="submit" class="btn btn-dark px-5">
                                Update
                            </button>
                        </div>
                    </form>

                </div> <!-- /card-body -->
            </div> <!-- /card -->

        </div> <!-- /col-md-8 -->
    </div> <!-- /row -->
</div> <!-- /container -->
